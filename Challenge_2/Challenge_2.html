<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"DengXian Light";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@DengXian Light";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	text-align:justify;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	text-align:justify;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	text-align:justify;
	line-height:107%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	text-align:justify;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-weight:normal;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	text-align:justify;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	text-align:justify;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	text-align:justify;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	text-align:justify;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 85.05pt 70.85pt 85.05pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<h1><span lang=ES>Descripción corta del challenge</span></h1>

<p class=MsoNormal><span lang=ES>Partiendo de datos recabados en la web de
ficheros csv, se procesarán dichos datos y se obtendrán insights de negocio,
siguiendo estos pasos:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Diseño del datamart.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Diseño y ejecución de los procesos ETL necesarios
(Pentaho PDI).</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Explotación de la información en PowerBI.</span></p>

<h1><span lang=ES>Contexto</span></h1>

<p class=MsoNormal><span lang=ES>Se propone un caso basado en datos del Grupo
World Bank. Los indicadores de la burocracia mundial (WWBI) son un conjunto de
datos sobre el empleo y los salarios del sector público que pueden ayudar a los
investigadores y profesionales del desarrollo a obtener una mejor comprensión
de las dimensiones del personal contratado por los estados, la huella del
sector público en el mercado laboral general y en el fiscal las implicaciones
de la factura salarial del gobierno.</span></p>

<p class=MsoNormal><span lang=ES>El objetivo de WWBI es llenar el vacío de
información sobre el personal del estado al proporcionar medidas más objetivas
basadas en datos administrativos y encuestas de hogares, lo que complementará
los enfoques existentes basados ​​en la percepción de expertos.</span></p>

<h1><span lang=ES>Cuestiones</span></h1>

<h2><span lang=ES>Punto 1 - enunciado</span></h2>

<p class=MsoNormal><span lang=ES>Análisis de los datos de origen en el que se
detallen los campos que se encuentran en los ficheros. Boceto del diagrama
entidad-relación del modelo.</span></p>

<h2><span lang=ES>Punto 1 - solución</span></h2>

<p class=MsoNormal><span lang=ES>Se examinan los dos csv que se nos
suministran.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Csv Country: contiene un listado de países, con
campos que recogen información de diversos aspectos acerca de dichos países:
nombre, código del país, región a la que pertenece, y una serie de indicadores
para caracterizar el país, sobre todo desde el punto de vista
económico-financiero.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>Llama la atención que hay algunos campos (adjunto
captura de pantalla) en las que los datos no tienen un formato estandarizado.
Habrá que tener cuidado con esto si más adelante decidimos usar esos datos.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span lang=ES> <img
width=384 height=163 id="Imagen 2" src="Challenge_2_files/image001.jpg"
alt="Interfaz de usuario gráfica, Texto, Aplicación, Correo electrónico&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Csv Data: contiene un listado de países, y para
cada uno de ellos una serie de indicadores, y el valor de los mismos para cada
año (2000-2016)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:35.7pt;text-indent:-17.85pt;
page-break-after:avoid'><span lang=ES style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Este es un boceto del Diagrama entidad-relación del
datamart:</span></p>

<p class=MsoListParagraphCxSpLast><span lang=ES><img width=450 height=276
id="Imagen 25" src="Challenge_2_files/image002.png"
alt="Interfaz de usuario gráfica, Diagrama&#10;&#10;Descripción generada automáticamente"></span></p>

<h2><span lang=ES>Punto 2 - enunciado</span></h2>

<p class=MsoNormal><span lang=ES>En este punto, se tiene que realizar la
extracción de los ficheros CSV a una base de datos de staging, usando procesos
de PDI.</span></p>

<p class=MsoNormal><span lang=ES>Se debe crear la base de datos de staging y
sus tablas, así como los procesos de carga.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Primer paso: crear base de datos de staging y sus
tablas, adjuntar el script de creación de las tablas.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Respecto los procesos de carga, responder las
siguientes preguntas:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Cuántas filas se han cargado en la tabla de
staging País?</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Cuántas filas se han cargado en la tabla de
staging de datos?</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Cuántas transformaciones has usado para realizar
la carga?</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Qué objetos has usado en estas transformaciones?</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Has usado el componente Start?</span></p>

<h2><span lang=ES>Punto 2 – solución</span></h2>

<p class=MsoNormal><span lang=ES>Creamos las BBDD de staging (STG_BURO) y
datawarehouse (DWH_BURO) en el SGBDR.</span></p>

<p class=MsoNormal><span lang=ES>Creamos las tablas Country y Data que serán
pobladas por los csvs (adjunto en fichero aparte los scripts de creación). </span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Para cada columna en los csv, se crea su columna
correspondiente en las tablas de la BD.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>En general, a todos los campos se les ha asignado
un datatype varchar(50), menos a aquellos campos que se ha comprobado que
sobrepasan esa longitud. Para estos, aumentamos la capacidad de caracteres.</span></p>

<p class=MsoNormal><span lang=ES>En Spoon, diseñamos la Transformación que
poblará las tablas de la BD de staging a partir de los csvs.</span></p>

<p class=MsoNormal><span lang=ES><img width=344 height=221 id="Imagen 1"
src="Challenge_2_files/image003.jpg"
alt="Diagrama&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoListParagraph style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Son ficheros de pequeño tamaño así que los
incluimos a ambos en la misma transformación</span></p>

<p class=MsoNormal style='page-break-after:avoid'><b><span lang=ES>Respondemos
a las preguntas que se nos plantean:</span></b></p>

<p class=MsoNormal style='page-break-after:avoid'><u><span lang=ES>¿Cuántas
filas se han cargado en la tabla de staging País?</span></u></p>

<p class=MsoNormal><span lang=ES><img width=405 height=163 id="Imagen 3"
src="Challenge_2_files/image004.jpg"
alt="Tabla&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><u><span lang=ES>¿Cuántas filas se han cargado en la tabla
de staging de datos?</span></u></p>

<p class=MsoNormal><span lang=ES><img width=407 height=164 id="Imagen 4"
src="Challenge_2_files/image005.jpg"
alt="Tabla&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><u><span lang=ES>¿Cuántas transformaciones has usado para
realizar la carga?</span></u></p>

<p class=MsoNormal><span lang=ES>Una transformación (sólo estoy utilizando un
fichero Transformación en PDI), que incluye pasos para hacer la extracción de
los dos csvs que disponemos.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué objetos has usado en estas
transformaciones?</span></u></p>

<p class=MsoNormal><span lang=ES>Entrada csv, mapeo de los campos, salida
tabla.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Has usado el componente Start?</span></u></p>

<p class=MsoNormal><span lang=ES>No, Start lo usaremos cuando orquestemos el
Trabajo a partir de todas las Transformaciones creadas.</span></p>

<p class=MsoNormal><span lang=ES>&nbsp;</span></p>

<h2><span lang=ES>Punto 3 - enunciado</span></h2>

<p class=MsoNormal><span lang=ES>En este punto se tiene que realizar las
transformaciones y carga de los datos desde la base de datos de staging al data
warehouse.</span></p>

<p class=MsoNormal><span lang=ES>Para ello, se debe crear una base de datos
data warehouse y sus tablas. Estas se cargarán usando PDI.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Crear el datamart WWBI y las tablas. Adjuntar
scripts de creación de tablas.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Realizar las transformaciones necesarias para
cargar el datamart usando PDI.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Responder las siguientes preguntas:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Cómo se ha cargado la tabla “dim_metrica”? ¿Cuál
es su origen?</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Qué componentes se han usado para crear la tabla
de hechos?</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Cuántas filas se han cargado en la tabla de
hechos?</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>¿Por qué se han multiplicado el número de filas de
la tabla de hechos?</span></p>

<h2><span lang=ES>Punto 3 – solución</span></h2>

<p class=MsoNormal><span lang=ES>Creamos las tablas del datamart conforme al
DER que se mostró en el Punto 1, asignando también las primary keys. Al crear
los campos que componen las tablas del datamart, tenemos en cuenta cuál es la
información que queremos utilizar (adjunto los scripts de creación de tabla en
fichero aparte):</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>NOTA: A diferencia de en las tablas de staging
donde todos los campos tenían datatype varchar, en este caso prestamos atención
a los tipos de datos con lo que vamos a trabajar: números enteros, decimales,
caracteres (de mayor o menor longitud), lo cual facilitará el trabajo en las
herramientas analíticas.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Tabla DIM_PAIS: Nos interesa el <u>ID del país (PK),
DESC del país y la región, y el Income Group</u>, ya que son los aspectos de la
dimensión que usaremos en los análisis posteriores con SQL y PowerBI. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>Dentro de la tabla STG_PAIS tenemos más información
acerca de cada país. Quizá sean especialmente interesantes algunas variables
categóricas (con un conjunto pequeño de valores posibles) como “Lending
category”,  “System of trade”, “Government accounting concept”, etc; y algunas
variables numéricas como  “National accounts base year” o “Latest population
census”. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>Se podría considerar incluir estas variables dentro
de nuestro datamart, en el caso de que consideremos que para otra persona le
pudiesen ser útiles para hacer otro tipo de análisis sobre estos datos. Eso sí,
algunos de los datos presentes en estas variables no se ajustan a un formato
estandarizado. En ese caso, habría que definir un formato estándar para los
mismos y ajustar los datos a dicho estándar, antes de cargarlos en el datamart</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span lang=ES><img
width=241 height=173 id="Imagen 5" src="Challenge_2_files/image006.png"
alt="Interfaz de usuario gráfica, Texto, Aplicación, Correo electrónico&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>Considero que estas tareas de selección y
estandarización de otras variables se escapan al objetivo de este ejercicio, es
por eso que NO las he incluido en mi datamart.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Tabla DIM_METRICA: Dos columnas que proceden de
STG_DATA: <u>ID (PK) y DES</u> de la métrica.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Tabla FACT_BURO: Contiene los IDs de las tablas de
dimensiones (<u>ID_PAIS, ID_METRICA</u>), además de la columna <u>ID_AÑO</u>
(se podría haber considerado crear una tercera tabla de dimensiones con la
dimensión tiempo, con una única columna ID_AÑO. Pero para los propósitos de
este ejercicio considero que no aporta nada tener una tabla de esas
características, por eso NO la he creado). La combinación de estas tres
columnas es la primary key de esta tabla. Además, tenemos una columna <u>IN_VALUE</u>
donde se almacenarán los valores de las métricas.</span></p>

<p class=MsoNormal><span lang=ES>Una vez hecho esto, diseñamos en PDI las
transformaciones necesarias para cada tabla:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Tablas de DIMENSIONES: </span></p>

<p class=MsoListParagraphCxSpMiddle><span lang=ES><img width=376 height=203
id="Imagen 6" src="Challenge_2_files/image007.jpg"
alt="Diagrama&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:71.7pt;text-indent:-17.85pt;
page-break-after:avoid'><span lang=ES style='font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span lang=ES>Para
seleccionar las columnas que nos interesan, lo hacemos en los objetos “entrada
tabla” a través de una consulta SQL. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:71.7pt;page-break-after:
avoid'><span lang=ES>Para la tabla de métricas:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span lang=ES><img
width=353 height=149 id="Imagen 7" src="Challenge_2_files/image008.png"
alt="Interfaz de usuario gráfica, Texto, Aplicación, Correo electrónico&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span lang=ES>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span lang=ES>Para
la tabla de países:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span lang=ES><img
width=193 height=96 id="Imagen 24" src="Challenge_2_files/image009.png"
alt="Texto&#10;&#10;Descripción generada automáticamente con confianza media"></span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>Tabla de HECHOS:</span></p>

<p class=MsoListParagraphCxSpMiddle><span lang=ES><img width=416 height=98
id="Imagen 8" src="Challenge_2_files/image010.png"
alt="Imagen que contiene Diagrama&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>En el objeto de Entrada tabla, con una consulta SQL
incluimos las columnas con las que vamos a trabajar.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
lang=ES style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=ES>Con objeto Normalizar filas, pivotamos las columnas
de tal forma que obtengamos una columna con el año para el que se tiene el
valor de una métrica, y otra columna que almacene el valor en cuestión.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span lang=ES><img
width=290 height=179 id="Imagen 9" src="Challenge_2_files/image011.png"
alt="Tabla&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in'><span lang=ES>&nbsp;</span></p>

<p class=MsoNormal><b><span lang=ES>Respondemos a las preguntas que se nos
plantean:</span></b></p>

<p class=MsoNormal><u><span lang=ES>¿Cómo se ha cargado la tabla “dim_metrica”?
¿Cuál es su origen?</span></u></p>

<p class=MsoNormal><span lang=ES>Como ya se comentó anteriormente, se
seleccionan las columnas id y descripción de métrica de la tabla STG_DATA. Al
ser una tabla de dimensiones, seleccionamos únicamente los valores distintos ya
que no tiene sentido tener valores duplicados, nos quedamos con 87 métricas en
total.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué componentes se han usado para crear la
tabla de hechos?</span></u></p>

<p class=MsoNormal><span lang=ES>También se ha mostrado anteriormente: Entrada
tabla &gt; Normalizar fila &gt; mapeado &gt; salida tabla.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Cuántas filas se han cargado en la tabla
de hechos?</span></u></p>

<p class=MsoNormal><span lang=ES>170085</span></p>

<p class=MsoNormal><u><span lang=ES><img width=567 height=179 id="Imagen 10"
src="Challenge_2_files/image012.jpg"
alt="Interfaz de usuario gráfica, Tabla&#10;&#10;Descripción generada automáticamente"></span></u></p>

<p class=MsoNormal><u><span lang=ES>¿Por qué se han multiplicado el número de
filas de la tabla de hechos?</span></u></p>

<p class=MsoNormal><span lang=ES>Porque al pivotar la tabla estamos reduciendo
el número de columnas, pero estamos aumentando el número de filas ya que, para
cada país y métrica, en vez de tener un registro con columnas para cada año
tenemos 17 registros, cada una indicando un año en el intervalo 2000-2016. Por
eso el número de filas inicial (10005) se multiplica por 17 (170085).</span></p>

<p class=MsoNormal><span lang=ES>&nbsp;</span></p>

<h2><span lang=ES>Punto 4 - enunciado</span></h2>

<p class=MsoNormal><span lang=ES>Crear la tarea que permita cargar todo el
datamart desde los origenes &gt; staging &gt; datamart.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>¿Se ha usado una transformación o una tarea?</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>¿Por qué?</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span lang=ES>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES>¿Qué tipo de objetos se han usado?</span></p>

<h2><span lang=ES>Punto 4 – solución</span></h2>

<p class=MsoNormal><span lang=ES><img width=567 height=278 id="Imagen 11"
src="Challenge_2_files/image013.jpg"
alt="Interfaz de usuario gráfica, Aplicación&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><i><span lang=ES>NOTA: una vez ejecutado el job, con los
datos ya cargados en el datamart, se podría considerar establecer dos foreign
keys (ID_METRICA e ID_PAIS) en la tabla de hechos, para garantizar la
integridad referencial. Así estaríamos estableciendo las relaciones entre las
diferentes tablas de la BD, y evitaríamos que se introduzcan datos en la tabla
de hechos conteniendo países o métricas que no han sido declaradas previamente
en las tablas de dimensiones.</span></i></p>

<p class=MsoNormal><i><span lang=ES>Por otro lado, el establecimiento de estas
restricciones supone que, si queremos volver a ejecutar el job para orquestar
toda la ETL (por ejemplo, porque los datos de origen hayan sido actualizados),
tendríamos que eliminar previamente estas restricciones y luego volver a
imponerlas, de lo contrario impedirán que se ejecute correctamente.</span></i></p>

<p class=MsoNormal><i><span lang=ES>Supongo que la decisión correcta
(establecer FKs o no) depende de la casuísticas que rodeen a un proyecto de
estas características en el mundo real. Para este ejercicio, por motivos de
simplicidad, se ha escogido NO establecer foreign keys.</span></i></p>

<p class=MsoNormal><u><span lang=ES>¿Se ha usado una transformación o una
tarea?</span></u></p>

<p class=MsoNormal><span lang=ES>Se ha usado un Job en PDI.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Por qué?</span></u></p>

<p class=MsoNormal><span lang=ES>Para orquestar de forma secuencial todas las
transformaciones que habíamos creado previamente. De esta forma, para ocasiones
futuras en las que se quiera repetir el mismo proceso de ETL, por ejemplo una
vez se actualicen los ficheros csv por parte de World Bank, se podrá realizar
de forma automática repitiendo las mismas operaciones hechas ahora (siempre y
cuando no haya cambiado la estructura de los csv de origen, claro).</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué tipo de objetos se han usado?</span></u></p>

<p class=MsoNormal><span lang=ES>Un objeto Start al principio, y una secuencia
de las Transformaciones diseñadas después.</span></p>

<h2><span lang=ES>Punto 5 – enunciado</span></h2>

<p class=MsoNormal><span lang=ES>Crear un informe en PowerBI accediendo a la
información del datamart recién cargado.</span></p>

<p class=MsoNormal><span lang=ES>Indicar la estructura del modelo de datos.
Definir las tablas, sus relaciones y cardinalidades.</span></p>

<h2><span lang=ES>Punto 5 – solución</span></h2>

<p class=MsoNormal><span lang=ES>Abrimos PowerBI y obtenemos datos de nuestra
BD “DWH_BURO”.</span></p>

<p class=MsoNormal><span lang=ES>Como ya se explicó en la resolución del Punto
1 y el Punto 3, el DER (modelo de datos) ya lo hemos definido, y además ya se
han asignado las claves primarias. Al cargar esta BD en PowerBI ya nos aparecen
las tablas con sus correspondientes relaciones:</span></p>

<p class=MsoNormal><span lang=ES><img width=567 height=366 id="Imagen 15"
src="Challenge_2_files/image014.jpg"
alt="Diagrama&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><span lang=ES>Es un datamart con modelo en estrella, donde
las tablas de dimensiones tienen una cardinalidad 1-&gt;N respecto a la tabla
de hechos.</span></p>

<h2><span lang=ES>Punto 6 - enunciado</span></h2>

<p class=MsoNormal><span lang=ES>Crear las siguientes visualizaciones, adjuntar
comentarios de por qué se eligió cada tipo de visualización, así como capturas
de pantalla con los gráficos. Responder a las preguntas realizadas</span></p>

<h2><span lang=ES>Punto 6 - solución</span></h2>

<h3><span lang=ES>Visualización 1</span></h3>

<p class=MsoNormal style='page-break-after:avoid'><i><span lang=ES>Evolución en
el tiempo del “Empleo del sector público como parte del empleo remunerado” y el
“Empleo del sector público como parte del empleo formal” para Argentina.</span></i></p>

<p class=MsoNormal><span lang=ES><img width=567 height=316 id="Imagen 16"
src="Challenge_2_files/image015.jpg"></span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué tipo de gráfico se ha usado y por qué?</span></u></p>

<p class=MsoNormal><span lang=ES>Gráfico de líneas, porque permite analizar con
facilidad la evolución en el tiempo de una variable numérica (en este caso,
valores de métricas). Nos permite detectar tendencias y hacer comparaciones de
una forma muy inmediata.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para filtrar los
datos?</span></u></p>

<p class=MsoNormal><span lang=ES>El campo “ID_PAIS” para obtener sólo la
métrica para Argentina, y el campo “ID_METRICA” para escoger sólo las dos
métricas por las que nos preguntaban.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para el eje de la
gráfica?</span></u></p>

<p class=MsoNormal><span lang=ES>“ID_AÑO”</span></p>

<p class=MsoNormal><u><span lang=ES>¿Y en la leyenda?</span></u></p>

<p class=MsoNormal><span lang=ES>El campo “ID_METRICA”</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se usó para mostrar como
valores?</span></u></p>

<p class=MsoNormal><span lang=ES>El campo “IN_VALUE”</span></p>

<h3><span lang=ES>Visualización 2</span></h3>

<p class=MsoNormal style='page-break-after:avoid'><i><span lang=ES>Evaluar la
edad media de los empleados del sector privado y público por región.</span></i></p>

<p class=MsoNormal><span lang=ES><img width=567 height=320 id="Imagen 17"
src="Challenge_2_files/image016.png"
alt="Gráfico&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué tipo de gráfico se ha usado y por qué?</span></u></p>

<p class=MsoNormal><span lang=ES>Un gráfico de columnas agrupadas. Se escoge el
gráfico de columnas porque es sencillo y útil a la hora de hacer la comparación
de valores numéricos (en este caso las métricas), para un conjunto de variables
categóricas. Y se escogen columnas agrupadas en vez de apiladas porque para
este caso en concreto porque lo interesante aquí es ver las comparaciones entre
media de edad del sector público y privado, y con columnas apiladas costaría
más ver esto.</span></p>

<p class=MsoNormal><span lang=ES><img width=216 height=132 id="Imagen 18"
src="Challenge_2_files/image017.png"
alt="Imagen que contiene Gráfico&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><span lang=ES>En el gráfico de columnas AGRUPADAS se ve
claramente cómo la media de edad de los trabajadores del sector público es más
alta que la del sector privado, en todo el mundo menos en Norteamérica.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para filtrar los
datos?</span></u></p>

<p class=MsoNormal><span lang=ES>“DESC_METRICA” para usar sólo las métricas que
se nos han especificado</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para el eje de la
gráfica?</span></u></p>

<p class=MsoNormal><span lang=ES>La variable categórica, “DESC_REGION”</span></p>

<p class=MsoNormal><u><span lang=ES>¿Y en la leyenda?</span></u></p>

<p class=MsoNormal><span lang=ES>“DESC_METRICA”</span></p>

<p class=MsoNormal><span lang=ES>Nota: como valores utilizamos la variable
numérica “IN_VALUE” con sus valores PROMEDIO.</span></p>

<h3><span lang=ES>Visualización 3</span></h3>

<p class=MsoNormal><i><span lang=ES>Realizar una gráfica del promedio del peso
relativo de los cargos técnicos en los sectores privados y públicos a lo largo
del tiempo. La gráfica debe permitir ver el total volumen de cada métrica y el
total de ambas</span></i><span lang=ES>.</span></p>

<p class=MsoNormal><span lang=ES><img width=566 height=185 id="Imagen 19"
src="Challenge_2_files/image018.jpg"></span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué tipo de gráfico se ha usado y por qué?</span></u></p>

<p class=MsoNormal><span lang=ES>Gráfico de áreas apiladas. Al ser una
evolución en el tiempo, creo que la elección más conveniente se reducía a
gráficos de líneas o áreas. En este caso se escoge áreas apiladas porque se
especifica que se quiere ver el total volumen de CADA métrica y el total de
AMBAS. Se ve que el área marrón ocupa más que el área verde (es decir, el
salario relativo de los perfiles técnicos en el sector privado es ligeramente
superior), y se ve que en su conjunto los perfiles técnicos experimentaron unos
picos de salario entorno a los años 2008 y 2014.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para filtrar los
datos?</span></u></p>

<p class=MsoNormal><span lang=ES>“DESC_METRICA”, por las métricas
especificadas.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para el eje de la
gráfica?</span></u></p>

<p class=MsoNormal><span lang=ES>“ID_AÑO”</span></p>

<p class=MsoNormal><u><span lang=ES>¿Y en la leyenda?</span></u></p>

<p class=MsoNormal><span lang=ES>“DESC_METRICA”</span></p>

<p class=MsoNormal><span lang=ES>Nota: como valores, promedio de “IN_VALUE”</span></p>

<h3><span lang=ES>Visualización 4</span></h3>

<p class=MsoNormal style='page-break-after:avoid'><i><span lang=ES>Obtener el
promedio del peso por región del gasto en empleados públicos respecto al GDP y
el gasto público</span></i><span lang=ES>.</span></p>

<p class=MsoNormal><span lang=ES><img width=567 height=331 id="Imagen 20"
src="Challenge_2_files/image019.png"
alt="Gráfico&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué tipo de gráfico se ha usado y por qué?</span></u></p>

<p class=MsoNormal><span lang=ES>En esencia, me ha parecido que el análisis es
similar al que hicimos en la visualización 2 (Evaluar la edad media de los
empleados del sector privado y público por región), comparar dos métricas para
diferentes regiones. Por eso he utilizado el mismo gráfico que para aquella
visualización, uno de columnas agrupadas.</span></p>

<p class=MsoNormal><span lang=ES>La única diferencia es que esta vez, como los
valores de cada una de las dos métricas son bastante dispares y además la
relación entre las dos cambia bastante según la región que se considere, me ha
parecido buena idea insertar un filtro personalizable por el usuario (arriba a
la derecha en la captura insertada). Así, además de analizar conjuntamente las
dos métricas (en este caso no tiene mucho sentido, es evidente que el el peso
de los salarios será mayor sobre el gasto público que sobre el GDP) las podemos
analizar por separado.</span></p>

<p class=MsoNormal><span lang=ES><img width=567 height=327 id="Imagen 21"
src="Challenge_2_files/image020.png"
alt="Gráfico, Gráfico de barras&#10;&#10;Descripción generada automáticamente"></span><span
lang=ES> </span></p>

<p class=MsoNormal><span lang=ES>Si analizamos solamente el peso de las nóminas
de los funcionarios respecto al GDP, vemos que es más alta en Norteamérica/Europa
y más baja en Este/Sur Asia y Pacífico.</span></p>

<p class=MsoNormal><span lang=ES><img width=567 height=329 id="Imagen 22"
src="Challenge_2_files/image021.png"
alt="Gráfico, Gráfico de barras&#10;&#10;Descripción generada automáticamente"></span></p>

<p class=MsoNormal><span lang=ES>Si analizamos el peso de las nóminas de los
funcionarios respecto al gasto público, vemos que (a excepción de Sur Asia que
nuevamente tiene un valor muy bajo) las regiones que destacan por arriba o por
abajo en este gráfico son diferentes a las del anterior gráfico.</span></p>

<p class=MsoNormal><span lang=ES>Como idea, decir que se podría valorar la
utilización de mapas para este tipo de visualizaciones, pero no funcionaban
bien. Al escoger “DESC_METRICA” como Ubicación, no reconocía bien algunas
regiones.</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para filtrar los
datos?</span></u></p>

<p class=MsoNormal><span lang=ES>“DESC_METRICA”</span></p>

<p class=MsoNormal><u><span lang=ES>¿Qué campo se ha usado para el eje de la
gráfica?</span></u></p>

<p class=MsoNormal><span lang=ES>“DESC_REGION”</span></p>

<p class=MsoNormal><u><span lang=ES>¿Y en la leyenda?</span></u></p>

<p class=MsoNormal><span lang=ES>“DESC_METRICA”</span></p>

<p class=MsoNormal><u><span lang=ES>¿Y en los valores?</span></u></p>

<p class=MsoNormal><span lang=ES>Promedio de “IN_VALUE”</span></p>

</div>

</body>

</html>
